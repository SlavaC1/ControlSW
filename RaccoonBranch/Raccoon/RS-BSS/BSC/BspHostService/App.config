<?xml version="1.0"?>
<configuration>

  <configSections>
    <section name="log4net" type="log4net.Config.Log4NetConfigurationSectionHandler, log4net"/>
  </configSections>

  <connectionStrings>
    <add name="CBS.BSP.Properties.Settings.RTDBConnectionString"
         connectionString="Data Source=.\SQLEXPRESS;Initial Catalog=RTDB;Integrated Security=True"
         providerName="System.Data.SqlClient" />
  </connectionStrings>

  <appSettings>
    <!-- Folder containing Oracle interaction file-->
    <add key="OracleFolderPath" value="C:\OracleDB"/>
    <!-- User names of BSA client, separated by comma -->
    <add key="BsaUserNames" value="Itay.Sofer,BSS.Control"/>

    <!-- True to use HSM simulator, False to use HSM client-->
    <add key="UseHsmSimulator" value="False"/>
    <!-- HSM library path -->
    <add key="HsmPath" value="HsmCrypt.dll"/>
    <!--<add key="HsmPath" value="HsmClientSimulator.dll"/>-->
    <!-- HSM partition number: production - 1, development - 2, simulator - ignored  -->    
    <add key="HsmPartition" value="2"/>
    <!-- HSM password -->
    <!-- HSM password for production -->
    <!--<add key="HsmPassword" value="1a3a8948fe4b532377591e896891837f388518a69f6d07d930c6720c196f2d80"/>-->
    <!-- HSM password for development -->
    <add key="HsmPassword" value="b26440ce689e4938e64f9edabb06f106cee8a6a8e6192b4fa078446626872bfc"/> 
    <!--<add key="HsmPassword" value="ffd4cc4b691026ab0fd864993534a8d1"/>-->
  </appSettings>

  <system.serviceModel>
    <services>
      <service name="CBS.BSP.VLL.VllService">
        <endpoint address="net.tcp://localhost:59000/IVll" binding="netTcpBinding" contract="CBS.VLL.Contracts.IVll"/>
      </service>
      <service name="CBS.BSP.TagInfoProvider.TagInfoProviderService">
        <endpoint address="net.tcp://localhost:59000/ITagInfoProvider" binding="netTcpBinding" contract="BSS.Contracts.ITagInfoProvider"/>
      </service>
      <service name="CBS.BSP.HSM.HsmService">
        <endpoint address="net.tcp://localhost:59000/IHsm" binding="netTcpBinding" contract="Hsm.Contracts.IHsm"/>
      </service>
      <service name="CBS.BSP.Report.ReportService">
        <endpoint address="net.tcp://localhost:59000/IReport" binding="netTcpBinding" contract="BSS.Contracts.IReport"/>
      </service>
    </services>
  </system.serviceModel>

  <log4net>
    <!-- This stores information in the BSP.log file. -->
    <appender name="BspFileAppender" type="log4net.Appender.RollingFileAppender">
      <file value="BSP.log" />
      <appendToFile value="true" />
      <rollingStyle value="Size" />
      <maxSizeRollBackups value="5" />
      <maximumFileSize value="10MB" />
      <datePattern value="yyyyMMdd" />
      <staticLogFileName value="true" />
      <layout type="log4net.Layout.PatternLayout">
        <conversionPattern value="%date %-5level %message%newline%exception" />
      </layout>
    </appender>

    <appender name="ColoredConsoleAppender" type="log4net.Appender.ColoredConsoleAppender">
      <mapping>
        <level value="ERROR" />
        <foreColor value="Red, HighIntensity" />
      </mapping>
      <mapping>
        <level value="WARN" />
        <foreColor value="Yellow" />
      </mapping>
      <mapping>
        <level value="INFO" />
        <foreColor value="White" />
      </mapping>
      <mapping>
        <level value="DEBUG" />
        <foreColor value="Green" />
      </mapping>
      <layout type="log4net.Layout.PatternLayout">
        <conversionPattern value="%date %-5level %message%newline%exception"/>
      </layout>
    </appender>

    <appender name="VllFileAppender" type="log4net.Appender.FileAppender">
      <file value="VLL.log" />
      <appendToFile value="true" />
      <layout type="log4net.Layout.PatternLayout">
        <conversionPattern value="%date %-5level %message%newline%exception" />
      </layout>
    </appender>

    <root>
      <level value="INFO"/>
      <appender-ref ref="ColoredConsoleAppender"/>
    </root>

    <logger name="CBS.BSP.BspService">
      <level value="INFO"/>
      <appender-ref ref="BspFileAppender"/>
    </logger>

    <logger name="CBS.BSP.VLL.VllService">
      <level value="INFO"/>
      <appender-ref ref="VllFileAppender"/>
    </logger>

  </log4net>

  <startup>
    <supportedRuntime version="v4.0" sku=".NETFramework,Version=v4.5"/>
  </startup>

</configuration>
